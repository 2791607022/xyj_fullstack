
### 上传组件
    crm 中有很多用到照片或视频墙的场景，不同的开发人员每次都会写一个自己的上传组件，这样的效率比较低下，为了统一这个场景的代码构建，将一些统一的功能集合成一个公共的图片或视频列表上传组件。它基于 Antd-Upload 组件 和 项目中的上传资源至腾讯云的方法封装而成。
    特点是：比较适用于多个媒体资源上传和展示，对于一些类型的媒体数据流有较好的支持，设置正确后能快速使用，且对图片或视频上传的设置和校验比较全面，包括上传的媒体数量，媒体的大小和单位，是否为混合资源，图片校验的方式，上传区域的样式等等方面，支持上传，删除，预览操作。使用时仅需要将需要展示或修改的媒体数据流的形式转变为 包含 {type,cover,url} 这三个属性的对象数组或stringfy()后的JSON 字符串即可，组件会将修改后的数据流以同样的形式回调给父组件。这样使得开发只需关注数据形式的转变就可以满足多样的产品场景，极大的减少了这个场景下代码的冗余性，并方便后续的统一修改和维护

###  上传方法
    公司项目中有一个文件上传到腾讯云 COS 存储并获取到存储的url的方法，它是项目中媒体上传的依赖的基础。之前方法中文件存储的桶地址和文件是默认的。这样导致 新的资源需要上传到新的桶和文件夹 就需要重载相关方法。在原先的上传方法中新增了一个自定义的上传参数 bucketParam，里面包括桶，域，secretId，secretKeytoken 等上传到腾讯云COS存储所必需的参数，通过与后端协作，获取到后端提供的特定的Id， Key，和 Token 等校验数据，并传入新的方法。这样可以快捷地改变资源的存储地址，使这个方法更加基础和公共。

### 封装枫景请求方法
    最主要的是需要通过业务线更换请求的基础 url, 会在方法里添加一个红松业务线的url 常量，通过增加一个业务线标识去切换原有方法中请求地址拼接前缀时的那部分。同时当请求的结果是分页的数据时，两个业务线返回的数据结构和字段有一些差别，因此也会根据标识去进行兼容处理，保证只需切换业务线标识，就能在枫景系统里面开发红松业务时能快速上手，不必重新构建基础请求能力
