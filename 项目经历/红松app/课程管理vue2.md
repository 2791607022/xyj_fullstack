### 开发背景
    为方便老师批量上下架自己的专题和专题下的课程，简化用户操作而对原有的单独操作进行优化

### 设计
    通过顶部操作弹窗将列表页的内容卡片变为可勾选态，并会弹出底部的下架操作框，勾选的数量与底部的展示一致，且底部的全选按钮的状态与内容卡片的勾选状态一致, 整个外部页面为父组件，列表组件和底部操作框为同一级别的子组件包含在里面，列表中选中的数组和全选的状态统一由父组件管理，，父组件作为桥梁将一个组件中操作后的最新的数据状态传递给另一组件，子组件通过回调通知父组件及时更新相关状态。由此达到
    这些状态的统一。

   多行省略组件： 获取父级div的ref 实例，同时将样式设定为一个包含 -webkit-box-orient: vertical; -webkit-line-clamp，overflow: hidden; word-wrap 属性的可控样式，div里用p标签包含文本内容，用ref获取它的实例。比如要判断超过三行展示展开按钮的话，就将父级ref的offsetHeight 和p标签ref 3倍的offsetHeight 进行对比，大于的话就显示 展开 文本按钮，同时使得父组件的可控样式生效，将超过三行的溢出内容隐藏。点击展开就使得可控样式失效，同时展示收起 文本按钮

### 问题

    1.一开始在列表组件中获取到内容数组后，给内容初始化一个勾选状态，形成一个状态列表，通过操作状态列表改变勾选和全选状态，列表组件使用 watch 监听父组件传递的全选状态，状态列表的勾选状态都变为全选中或保留原来状态，这样会导致全选按钮状态与卡片勾选状态不一致，并且每次刷新卡片列表，获取到新数据是需要构造新的状态列表，开销比较大，数据过多影响页面性能，并且全选状态逻辑不清晰，违反单一数据流的概念，代码可读性差。后面改变思路，考虑到每个内容的有一个唯一的code，将选中的内容的code 集合成一个code数组并存储在父组件中，卡片的勾选状态和全选按钮的状态以code数组为判断基础，同时卡片的勾选操作和全选按钮的勾选操作影响的则是code数组的内容。使得两个组件的相关状态统一由父组件管理，提高了代码可读和可维护性，并减少了重复的构造和赋值操作。

    2. 安卓手机标签的offsetHeight 小于 ios ，使得安卓手机实际上能展示4行，后面考虑 直接将可控样式里的webkit-line-clamp 设置 为4，同时将 展开 文本按钮 与 p标签同级 ，将展开 作为独立的一行 覆盖在第三行文字的上面，实际上是有四行，但在表现上是三行，同时 判断超过三行的条件不变，依旧是父级的offsetHeight大于p的三倍，这样让两种手机的展示效果一致。